[workspace]
members = [
    "programs/nova_staking"
]
resolver = "2"

[profile.release]
overflow-checks = true
lto = "fat"
opt-level = 3

# Patches for Solana SBF compatibility (rustc 1.75.0)
# The newer proc-macro-crate v3.x uses toml_edit v0.23+ which requires toml_parser v1.0.6+
# toml_parser v1.0.6 requires rustc >= 1.76, but Solana SBF uses rustc 1.75.0-dev
# Solution: Pin proc-macro-crate to v1.3.1 which uses toml_edit v0.19 (MSRV 1.66)
[patch.crates-io]
proc-macro-crate = { version = "=1.3.1" }
